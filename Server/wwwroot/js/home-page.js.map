{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/components/_customModal.ts","webpack:///./src/scripts/components/_tableRow.ts","webpack:///./src/scripts/pages/home-page.ts","webpack:///./src/scripts/service/_fileService.ts","webpack:///./src/scripts/utilities/_helper.ts","webpack:///./src/styles/pages/home-page.scss"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__importDefault","mod","__esModule","Object","defineProperty","exports","jquery_1","require","CustomModal","endpoint","fileService","_this","renderModal","btnElement","relatedTarget","console","error","btn","default","task","data","type","currentId","item","getDoc","success","modal","target","find","text","modalBody","html","renderForm","undefined","errorList","on","event","_a","preventDefault","name_1","val","toString","createNewFolder","catch","append","errorMessage","element","name","handleCreateFolder","parentId","_b","handleEdit","id","fileName","editFileName","handleDelete","removeItem","tableRow","container","map","file","modifiedAt","modifiedBy","innerHTML","_helper_1","_fileService_1","_tableRow_1","_customModal_1","point","document","querySelector","keyStop","end","bind","selector","which","is","getData","Data","err","customerModel","__assign","assign","s","i","arguments","p","prototype","hasOwnProperty","FileService","jsonData","ajax","async","log","forEach","obj","Error","JSON","stringify","hasAlreadyExisted","url","contentType","dataType","addnew","extension","createdAt","createdBy","responseText","doc","x","folder","subFiles","filter","isFolder","ready","fn","readyState","addEventListener"],"mappings":"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","file":"js/home-page.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"home-page\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"vendors~home-page\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar jquery_1 = __importDefault(require(\"jquery\"));\r\nvar CustomModal = /** @class */ (function () {\r\n    function CustomModal(endpoint, fileService) {\r\n        var _this = this;\r\n        this.renderModal = function () {\r\n            return new Promise(function (resolve, reject) {\r\n                var btnElement = _this.endpoint.relatedTarget;\r\n                if (!btnElement) {\r\n                    console.error('Không tìm thấy button');\r\n                    return;\r\n                }\r\n                var btn = jquery_1.default(btnElement);\r\n                var task = btn.data('task');\r\n                var type = btn.data('file');\r\n                var currentId = btn.data('id');\r\n                var item;\r\n                if (currentId) {\r\n                    var result = _this.fileService.getDoc(currentId);\r\n                    if (result.success && result.data)\r\n                        item = result.data;\r\n                }\r\n                var modal = jquery_1.default(_this.endpoint.target);\r\n                modal.find('.modal-title').text(task + \" \" + type);\r\n                // render form body\r\n                var modalBody = modal.find('.modal-body');\r\n                if (task == 'delete')\r\n                    modalBody.html(\"<p>Are you sure you want to delete item Id=\" + currentId + \"</p>\");\r\n                else\r\n                    _this.renderForm(modalBody, undefined, type);\r\n                modal.find('.modal-footer').html(\"<button type=\\\"submit\\\"\\n  class=\\\"btn btn-primary\\\" id=\\\"btnSubmitForm\\\">\" + task + \"</button>\");\r\n                var errorList = modal.find('#error-messages');\r\n                jquery_1.default('#btnSubmitForm').on('click', function (event) {\r\n                    var _a;\r\n                    event.preventDefault();\r\n                    if (task === 'create' || task === 'edit') {\r\n                        // Data validation\r\n                        // const name = modal\r\n                        //   .find('input#file-name')\r\n                        //   .val()\r\n                        //   ?.toString();\r\n                        // if (name === undefined || name === '') {\r\n                        //   errorList.append(\r\n                        //     '<li class=\"text-danger\">Vui lòng điền tên file.</li>',\r\n                        //   );\r\n                        //   return;\r\n                        // }\r\n                        // // get file extension\r\n                        // let extension: string | undefined;\r\n                        // if (type == 'folder') {\r\n                        //   if (name.lastIndexOf('.') !== -1) {\r\n                        //     extension = name\r\n                        //       .toString()\r\n                        //       .substr(name.lastIndexOf('.') + 1);\r\n                        //     if (!extension) {\r\n                        //       // handle error\r\n                        //       errorList.append(\r\n                        //         '<li class=\"text-danger\">Tên file phải có extension.</li>',\r\n                        //       );\r\n                        //       return;\r\n                        //     }\r\n                        //   } else if (!extension) {\r\n                        //     // handle error\r\n                        //     errorList.append(\r\n                        //       '<li class=\"text-danger\">Tên file phải có extension.</li>',\r\n                        //     );\r\n                        //     return;\r\n                        //   }\r\n                        // }\r\n                        if (type == 'folder') {\r\n                            var name_1 = (_a = modal\r\n                                .find('input#file-name')\r\n                                .val()) === null || _a === void 0 ? void 0 : _a.toString();\r\n                            if (name_1)\r\n                                _this.fileService.createNewFolder(name_1, currentId)\r\n                                    .then(function (result) {\r\n                                    if (result.success) {\r\n                                        // Do something\r\n                                        // hide modal\r\n                                        modal.modal('hide');\r\n                                        resolve();\r\n                                    }\r\n                                })\r\n                                    .catch(function (error) {\r\n                                    errorList.append(\"<li class=\\\"text-danger\\\">\" + error.errorMessage + \"</li>\");\r\n                                    reject();\r\n                                });\r\n                        }\r\n                        // if (task === 'create') {\r\n                        //   this.handleCreate(\r\n                        //     {\r\n                        //       name,\r\n                        //       type,\r\n                        //       extension,\r\n                        //     },\r\n                        //     currentId,\r\n                        //   )\r\n                        //     .then(result => {\r\n                        //       if (result) {\r\n                        //         // Do something\r\n                        //       }\r\n                        //     })\r\n                        //     .catch(error => {\r\n                        //       errorList.append(\r\n                        //         `<li class=\"text-danger\">${error}</li>`,\r\n                        //       );\r\n                        //     });\r\n                        // } else if (task === 'edit' && currentId) {\r\n                        //   this.handleEdit(currentId, name);\r\n                        // }\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        this.renderForm = function (element, item, type) {\r\n            if (type === void 0) { type = 'folder'; }\r\n            if (type == 'folder') {\r\n                element.html(\"\\n      <form>\\n        <div class=\\\"form-group\\\">\\n          <input type=\\\"text\\\" \\n              class=\\\"form-control\\\" \\n              id=\\\"file-name\\\"\\n              placeholder=\\\"T\\u00EAn file\\\"\\n              name=\\\"file-name\\\"\\n              value=\\\"\" + (item ? item.name : '') + \"\\\"\\n          />\\n        </div>\\n        <div class=\\\"container\\\">\\n          <ul id=\\\"error-messages\\\"></ul>\\n        </div>\\n      </form>\\n      \");\r\n            }\r\n            else {\r\n                element.html(\"\\n      <form>\\n      <div class=\\\"form-group\\\">\\n        <input type=\\\"file\\\" \\n            class=\\\"form-control\\\" \\n            id=\\\"fileupload\\\"\\n            placeholder=\\\"T\\u00EAn file\\\"\\n            name=\\\"fileupload\\\"\\n        />\\n      </div>\\n      <div class=\\\"container\\\">\\n        <ul id=\\\"error-messages\\\"></ul>\\n      </div>\\n    </form>\\n      \");\r\n            }\r\n        };\r\n        this.handleCreateFolder = function (name, parentId) { return __awaiter(_this, void 0, void 0, function () {\r\n            var _a, success, errorMessage;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, ];\r\n                    case 1:\r\n                        _a = _b.sent(), success = _a.success, errorMessage = _a.errorMessage;\r\n                        if (!success || errorMessage)\r\n                            throw errorMessage;\r\n                        return [2 /*return*/, true];\r\n                }\r\n            });\r\n        }); };\r\n        this.handleEdit = function (id, fileName) {\r\n            var _a = _this.fileService.editFileName(id, fileName), success = _a.success, errorMessage = _a.errorMessage;\r\n            if (!success || errorMessage)\r\n                return errorMessage;\r\n            return undefined;\r\n        };\r\n        this.handleDelete = function (id) {\r\n            var _a = _this.fileService.removeItem(id), success = _a.success, errorMessage = _a.errorMessage;\r\n            if (!success || errorMessage)\r\n                return errorMessage;\r\n            return undefined;\r\n        };\r\n        this.endpoint = endpoint;\r\n        this.fileService = fileService;\r\n    }\r\n    return CustomModal;\r\n}());\r\nexports.default = CustomModal;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tableRow = function (data, container) {\r\n    if (!container) {\r\n        console.error('Cannot find conatiner');\r\n        return;\r\n    }\r\n    var html = '';\r\n    if ((data === null || data === void 0 ? void 0 : data.length) !== 0) {\r\n        data.map(function (file) {\r\n            html += \"<tr data-id=\\\"\" + file.id + \"\\\">\\n            <td data-label=\\\"File Type\\\" scope=\\\"row\\\">\\n            <span><i class=\\\"fas \" + (file.type == 'file'\r\n                ? 'fa-file-excel icon-excel'\r\n                : 'fa-folder') + \"\\\"></i></span>\\n            </td>\\n            <td data-label=\\\"Name\\\"><span>\" + file.name + \"</span></td>\\n            <td data-label=\\\"Modified\\\"><span>\" + file.modifiedAt + \"</span></td>\\n            <td data-label=\\\"Modified By\\\"><span>\" + file.modifiedBy + \"</span></td>\\n            <td></td>\\n        </tr>\";\r\n        });\r\n        container.innerHTML = html;\r\n    }\r\n    else {\r\n        container.innerHTML = 'Không có dữ liệu nào';\r\n    }\r\n};\r\nexports.default = tableRow;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar jquery_1 = __importDefault(require(\"jquery\"));\r\nvar _helper_1 = __importDefault(require(\"../utilities/_helper\"));\r\nvar _fileService_1 = __importDefault(require(\"../service/_fileService\"));\r\nvar _tableRow_1 = __importDefault(require(\"../components/_tableRow\"));\r\nvar _customModal_1 = __importDefault(require(\"../components/_customModal\"));\r\nrequire('bootstrap/js/dist/util');\r\nrequire('bootstrap/js/dist/button');\r\nrequire('bootstrap/js/dist/collapse');\r\nrequire('bootstrap/js/dist/modal');\r\nvar point = document.querySelector('#doc-list tbody');\r\nvar fileService;\r\n_helper_1.default(function () {\r\n    // prevent enter and backspace\r\n    jquery_1.default(function () {\r\n        var keyStop = {\r\n            8: ':not(input:text, textarea, input:file, input:password)',\r\n            13: 'input:text, input:password',\r\n            end: null,\r\n        };\r\n        jquery_1.default(document).bind('keydown', function (event) {\r\n            var selector = keyStop[event.which];\r\n            if (selector !== undefined && jquery_1.default(event.target).is(selector)) {\r\n                event.preventDefault(); // stop event\r\n            }\r\n            return true;\r\n        });\r\n    });\r\n    fileService = new _fileService_1.default();\r\n    fileService\r\n        .getData()\r\n        .then(function () { return _tableRow_1.default(fileService.Data(), point); })\r\n        .catch(function (err) { return console.error(err); });\r\n    // Modal to handle create and edit\r\n    jquery_1.default('#file-modal').on('show.bs.modal', function (event) {\r\n        var customerModel = new _customModal_1.default(event, fileService);\r\n        customerModel\r\n            .renderModal()\r\n            .then(function () { return _tableRow_1.default(fileService.Data(), point); });\r\n    });\r\n});\r\n","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar jquery_1 = __importDefault(require(\"jquery\"));\r\nvar FileService = /** @class */ (function () {\r\n    function FileService() {\r\n        var _this = this;\r\n        this.data = [];\r\n        this.getData = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var jsonData;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        jsonData = [];\r\n                        return [4 /*yield*/, jquery_1.default.ajax('/api/files', {\r\n                                type: 'GET',\r\n                                async: true,\r\n                                success: function (data) {\r\n                                    return data;\r\n                                },\r\n                                error: function (err) { return console.log(err); },\r\n                            })];\r\n                    case 1:\r\n                        jsonData = _a.sent();\r\n                        // merge data to file type\r\n                        jsonData.forEach(function (obj) {\r\n                            if (!obj !== undefined && (obj === null || obj === void 0 ? void 0 : obj.type)) {\r\n                                try {\r\n                                    switch (obj.type) {\r\n                                        case 'file':\r\n                                            _this.data.push(obj);\r\n                                            break;\r\n                                        case 'folder':\r\n                                            _this.data.push(obj);\r\n                                            break;\r\n                                        default:\r\n                                            throw new Error(\"Wrong file type\" + JSON.stringify(obj));\r\n                                    }\r\n                                }\r\n                                catch (err) {\r\n                                    console.error(err);\r\n                                }\r\n                            }\r\n                        });\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        this.createNewFolder = function (name, parentId) {\r\n            return new Promise(function (resolve, reject) {\r\n                // check duplicate file name\r\n                if (_this.hasAlreadyExisted(name, parentId)) {\r\n                    reject({\r\n                        success: false,\r\n                        errorMessage: 'Folder đã tồn tại',\r\n                    });\r\n                }\r\n                jquery_1.default.ajax({\r\n                    type: 'POST',\r\n                    url: '/api/files/folder',\r\n                    contentType: 'application/json; charset=utf-8',\r\n                    data: JSON.stringify({ name: name }),\r\n                    dataType: 'json',\r\n                })\r\n                    .done(function (data) {\r\n                    // save new data to localdata\r\n                    console.log(data);\r\n                    var addnew = {\r\n                        id: data.id,\r\n                        // TODO: Sửa lại chỗ này\r\n                        name: name,\r\n                        extension: data.extension,\r\n                        type: data.type,\r\n                        modifiedAt: data.modifiedAt,\r\n                        modifiedBy: data.modifiedBy,\r\n                        createdAt: data.createdAt,\r\n                        createdBy: data.createdBy,\r\n                    };\r\n                    _this.data.push(addnew);\r\n                    resolve({ success: true });\r\n                })\r\n                    .catch(function (err) {\r\n                    console.error(err.responseText);\r\n                    reject({\r\n                        success: false,\r\n                        errorMessage: err.responseText\r\n                            ? err.responseText\r\n                            : err.error,\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        this.hasAlreadyExisted = function (fileName, parentId) {\r\n            // check subfile\r\n            if (parentId) {\r\n                var doc = _this.data.find(function (x) { return x.id == parentId && x.type === 'folder'; });\r\n                if (doc) {\r\n                    var folder = doc;\r\n                    if (folder.subFiles &&\r\n                        folder.subFiles.find(function (x) { return x.name === fileName; })) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            // check file\r\n            if (_this.data.find(function (x) { return x.name === fileName; })) {\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n    }\r\n    FileService.prototype.getDoc = function (id) {\r\n        var doc = this.data.find(function (x) { return x.id == id; });\r\n        if (doc)\r\n            return { success: true, data: doc };\r\n        return { success: false };\r\n    };\r\n    FileService.prototype.editFileName = function (id, name) {\r\n        this.data = this.data.map(function (item) {\r\n            if (item.id === id) {\r\n                return __assign(__assign({}, item), { name: name });\r\n            }\r\n            return item;\r\n        });\r\n        // TODO: file vs folder?\r\n        // TODO: output error if any\r\n        // save new data to localStorage\r\n        // LocalData.save('items', this.data);\r\n        return { success: true };\r\n    };\r\n    FileService.prototype.removeItem = function (id) {\r\n        this.data = this.data.filter(function (x) { return x.id !== id; });\r\n        // TODO: check errors if any\r\n        // save new data to localStorage\r\n        // LocalData.save('items', this.data);\r\n        return { success: true };\r\n    };\r\n    FileService.prototype.Data = function () {\r\n        return this.data;\r\n    };\r\n    FileService.prototype.isFolder = function (id) {\r\n        var item = this.data.find(function (x) { return x.id === id; });\r\n        if (item && item.type === 'folder')\r\n            return true;\r\n        return false;\r\n    };\r\n    return FileService;\r\n}());\r\nexports.default = FileService;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ready = function (fn) {\r\n    if (document.readyState !== 'loading') {\r\n        fn();\r\n    }\r\n    else {\r\n        document.addEventListener('DOMContentLoaded', fn);\r\n    }\r\n};\r\nexports.default = ready;\r\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}